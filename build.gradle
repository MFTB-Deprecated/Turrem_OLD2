configure(subprojects) 
{
	def n = it.path
	if (n ==~ ':(app|mod|coremod):(client|common|server)')
	{		
		apply plugin: 'java'
		apply plugin: 'eclipse'
		
		def partname = n.substring(1,n.lastIndexOf(':'))
		def sidename = n.substring(n.lastIndexOf(':') + 1)
		
		eclipse 
		{
			project 
			{
				name = partname + "." + sidename
			}
		}
		
		if (sidename != "common") 
		{
			dependencies 
			{
				compile project(":" + partname + ":common")
			}
		}
		
		if (partname == 'mod')
		{
			dependencies 
			{
				compile project(":coremod:" + sidename)
				compile project(":app:" + sidename)
				if (sidename != "common") 
				{
					compile project(":coremod:common")
					compile project(":app:common")
				}
			}
		}
		
		if (partname == 'coremod')
		{
			dependencies 
			{
				compile project(":app:" + sidename)
				if (sidename != "common") 
				{
					compile project(":app:common")
				}
			}
		}
	}
}